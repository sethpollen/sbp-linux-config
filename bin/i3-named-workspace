#!/bin/sh
# Script for handling i3 workspaces with custom, user-entered names. Uses:
#   i3-named-workspace focus     # Prompts user for workspace name and focuses
#                                # that workspace.
#   i3-named-workspace move      # Prompts user for workspace name and moves
#                                # current container to that workspace.

# Quiet aliases for commands we need.
zenity_quiet() {
  # Suppress stderr. We don't want GTK+ error messages.
  zenity $* 2>/dev/null
}
i3_msg_quiet() {
  # Suppress stdout, which is pretty chatty.
  i3-msg $* 1>/dev/null
}

# Begin by prompting the user for a workspace name. Redirecty zenity's stderr
# to /dev/null, since it's usually pretty chatty with GTK+ errors.
NAME=$(zenity_quiet --entry \
    --title='i3 Named Workspace' --window-icon='question' \
    --text='Enter name of i3 workspace:')

case $1 in
  move)
    i3_msg_quiet "move container to workspace $NAME; workspace $NAME" ;;
  *)
    i3_msg_quiet "workspace $NAME"
esac
